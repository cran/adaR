<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Introduction to adaR</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Introduction to adaR</h1>



<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(adaR)</span></code></pre></div>
<p>This vignette gives an overview over <code>adaR</code> and url
parsing in general.</p>
<div id="a-primer-on-urls" class="section level2">
<h2>A primer on URLs</h2>
<p>A URL (Uniform Resource Locator) serves as a reference to a web
resource and has specific components that give information about how the
resource can be fetched. The table below gives an overview of the
components of a valid URL.</p>
<table>
<colgroup>
<col width="12%" />
<col width="60%" />
<col width="27%" />
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Protocol</td>
<td>Indicates the protocol to access the resource.</td>
<td><code>http://</code></td>
</tr>
<tr class="even">
<td>Username &amp; Password</td>
<td>Contains authentication info. Separated by a colon and followed by
an <code>@</code>.</td>
<td><code>username:password@</code></td>
</tr>
<tr class="odd">
<td>Hostname</td>
<td>Refers to the domain name or IP of the server where the resource
resides.</td>
<td><code>example.com</code> or <code>192.168.1.1</code></td>
</tr>
<tr class="even">
<td>Port</td>
<td>Specifies the technical gate used to access the resources on the
server.</td>
<td><code>:8080</code></td>
</tr>
<tr class="odd">
<td>Pathname</td>
<td>Provides info about the location of the resource on the server,
often like a filesystem path.</td>
<td><code>/directory/file.html</code> or
<code>/images/pic.jpg</code></td>
</tr>
<tr class="even">
<td>Query</td>
<td>Provides additional parameters, often for search queries or data
retrieval.</td>
<td><code>?key1=value1&amp;key2=value2</code></td>
</tr>
<tr class="odd">
<td>Fragment</td>
<td>Refers to a specific part of a web resource or document, like an
anchor.</td>
<td><code>#section2</code></td>
</tr>
</tbody>
</table>
<p>A full URL might look something like this:</p>
<pre><code>https://username:password@example.com:8080/directory/file.html?key1=value1&amp;key2=value2#section2</code></pre>
<p>However, URLs can be as simple as just a scheme and host (e.g.,
<code>http://example.com</code>). The presence and specific combination
of these components can vary based on the exact nature and purpose of
the URL.</p>
<p>The terms are not necessarily unambiguous and there are further (sub)
terms that need explanation. The <code>protocol</code> can also be
called <code>scheme</code>. <code>hostname</code>+<code>port</code> is
called <code>host</code> in <code>adaR</code>. Additionally, the
<code>query</code> is referred to as <code>search</code> and the
<code>fragment</code> as <code>hash</code> in <code>adaR</code>.</p>
<p>Some more relevant subcomponents are given in the following
table.</p>
<table style="width:100%;">
<colgroup>
<col width="7%" />
<col width="74%" />
<col width="17%" />
</colgroup>
<thead>
<tr class="header">
<th>Term</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Domain</td>
<td>A name that represents an IP address of the server which hosts the
website. It’s a human-readable form of an address where web resources
can be accessed.</td>
<td><code>example.com</code></td>
</tr>
<tr class="even">
<td>Subdomain</td>
<td>A subset or a smaller part of the main domain. It’s used to organize
and navigate to different sections or services of a website.</td>
<td><code>blog.example.com</code></td>
</tr>
<tr class="odd">
<td>Top-Level Domain (TLD)</td>
<td>The last segment of the domain name. It follows the last dot in the
domain name. Indicates the purpose or origin of a domain.</td>
<td><code>.com</code>, <code>.net</code>, <code>.org</code></td>
</tr>
<tr class="even">
<td>Public Suffix</td>
<td>A domain under which Internet users can directly register their own
domain names. Public suffixes include TLDs as well as certain subdomains
under which domains can be registered.</td>
<td><code>co.uk</code>, <code>com.au</code>, <code>github.io</code></td>
</tr>
</tbody>
</table>
<p>But wait, there is more. The table below gives the definition of
several terms that are of relevance when dealing with URLs and the
<code>adaR</code> package.</p>
<table style="width:100%;">
<colgroup>
<col width="12%" />
<col width="65%" />
<col width="22%" />
</colgroup>
<thead>
<tr class="header">
<th>Term</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Authority</td>
<td>Combines user info, hostname, and port. Identifies the party
responsible for the resource.</td>
<td><code>userinfo@host:port</code></td>
</tr>
<tr class="even">
<td>Relative URL</td>
<td>A URL without the scheme and host, often starting with a path.
Relative to a base URL.</td>
<td><code>/path/to/file.html</code></td>
</tr>
<tr class="odd">
<td>Absolute URL</td>
<td>A full URL specifying scheme and host.</td>
<td><code>https://example.com/path/to/file.html</code></td>
</tr>
<tr class="even">
<td>Base URL</td>
<td>The URL to which relative URLs are resolved.</td>
<td><code>&lt;base href=&quot;https://example.com/page/&quot;&gt;</code></td>
</tr>
<tr class="odd">
<td>Percent Encoding</td>
<td>Encodes special characters within a URI using <code>%</code>
followed by two hexadecimal digits.</td>
<td><code>Hello%20World</code> (represents “Hello World”)</td>
</tr>
<tr class="even">
<td>Punycode</td>
<td>Represents Unicode characters in domain names using ASCII.</td>
<td><code>xn--80akhbyknj4f</code> (represents <code>пример</code>)</td>
</tr>
<tr class="odd">
<td>URL Canonicalization</td>
<td>Converts a URL into a standardized or normalized format.</td>
<td>From <code>https://example.com:443/../a.html</code> to
<code>https://example.com/a.html</code></td>
</tr>
<tr class="even">
<td>URL Shortening</td>
<td>Converts a long URL into a significantly shorter version that
redirects to the original URL.</td>
<td>Shortening <code>https://example.com/some-long-path</code> might
give <code>https://exmpl.co/abc123</code></td>
</tr>
<tr class="odd">
<td>URL Slug</td>
<td>Part of a URL derived from the title of a webpage, usually
human-readable and used for SEO.</td>
<td>For a post titled “How to Bake”, slug might be
<code>how-to-bake</code></td>
</tr>
<tr class="even">
<td>URI vs URL</td>
<td>URI is a broader category including URLs (locator) and URNs (name).
All URLs are URIs, but not all URIs are URLs.</td>
<td>URI: <code>mailto:john.doe@example.com</code>, URL:
<code>https://example.com</code></td>
</tr>
</tbody>
</table>
</div>
<div id="whatwg-compliant" class="section level2">
<h2>“WHATWG compliant”</h2>
<p>The underlying C++ code of <code>adaR</code>, <a href="https://www.ada-url.com/">ada-url</a> is “WHATWG copliant”.</p>
<p><strong>Who/What is the WHATWG?</strong></p>
<p>The Web Hypertext Application Technology Working Group (WHATWG) is a
community of people interested in evolving the web through standards and
tests.</p>
<p>It was founded by individuals of Apple, the Mozilla Foundation, and
Opera Software in 2004, after a W3C workshop. Apple, Mozilla and Opera
were becoming increasingly concerned about the W3C’s direction with
XHTML, lack of interest in HTML, and apparent disregard for the needs of
real-world web developers. So, in response, these organisations set out
with a mission to address these concerns and the Web Hypertext
Application Technology Working Group was born.</p>
<p><strong>What is the WHATWG working on?</strong><br />
The WHATWG’s focus is on standards implementable in web browsers, and
their associated tests. Their existing work can be found <a href="https://spec.whatwg.org/">here</a>.</p>
<p>The standard of relevance for this package, is the <a href="https://url.spec.whatwg.org/">url standard</a>. Being “WHATWG
compliant” means, that ada-url follows this url standard.</p>
</div>
<div id="parsing-urls" class="section level2">
<h2>Parsing urls</h2>
<p>The function <code>ada_url_parse()</code> decomposes a url into the
components shown in the first table.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">ada_url_parse</span>(<span class="st">&quot;https://user_1:password_1@example.org:8080/dir/../api?q=1#frag&quot;</span>)</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="co">#&gt;                                                      href protocol username</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="co">#&gt; 1 https://user_1:password_1@example.org:8080/api?q=1#frag   https:   user_1</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="co">#&gt;     password             host    hostname port pathname search  hash</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="co">#&gt; 1 password_1 example.org:8080 example.org 8080     /api   ?q=1 #frag</span></span></code></pre></div>
<p>The function can deal with punycode and percent encoding and does
generally handle all types of edge cases well.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>corner_cases <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>    <span class="st">&quot;https://example.com:8080&quot;</span>, <span class="st">&quot;http://user:password@example.com&quot;</span>,</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>    <span class="st">&quot;http://[2001:0db8:85a3:0000:0000:8a2e:0370:7334]:8080&quot;</span>, <span class="st">&quot;https://example.com/path/to/resource?query=value&amp;another=thing#fragment&quot;</span>,</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>    <span class="st">&quot;http://sub.sub.example.com&quot;</span>, <span class="st">&quot;ftp://files.example.com:2121/download/file.txt&quot;</span>,</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>    <span class="st">&quot;http://example.com/path with spaces/and&amp;special=characters?&quot;</span>,</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>    <span class="st">&quot;https://user:pa%40ssword@example.com/path&quot;</span>, <span class="st">&quot;http://example.com/..//a/b/../c/./d.html&quot;</span>,</span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>    <span class="st">&quot;https://example.com:8080/over/under?query=param#and-a-fragment&quot;</span>,</span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a>    <span class="st">&quot;http://192.168.0.1/path/to/resource&quot;</span>, <span class="st">&quot;http://3com.com/path/to/resource&quot;</span>,</span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a>    <span class="st">&quot;http://example.com/%7Eusername/&quot;</span>, <span class="st">&quot;https://example.com/a?query=value&amp;query=value2&quot;</span>,</span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a>    <span class="st">&quot;https://example.com/a/b/c/..&quot;</span>, <span class="st">&quot;ws://websocket.example.com:9000/chat&quot;</span>,</span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a>    <span class="st">&quot;https://example.com:65535/edge-case-port&quot;</span>, <span class="st">&quot;file:///home/user/file.txt&quot;</span>,</span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a>    <span class="st">&quot;http://example.com/a/b/c/%2F%2F&quot;</span>, <span class="st">&quot;http://example.com/a/../a/../a/../a/&quot;</span>,</span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a>    <span class="st">&quot;https://example.com/./././a/&quot;</span>, <span class="st">&quot;http://example.com:8080/a;b?c=d#e&quot;</span>,</span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a>    <span class="st">&quot;http://@example.com&quot;</span>, <span class="st">&quot;http://example.com/@test&quot;</span>, <span class="st">&quot;http://example.com/@@@/a/b&quot;</span>,</span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a>    <span class="st">&quot;https://example.com:0/&quot;</span>, <span class="st">&quot;http://example.com/%25path%20with%20encoded%20chars&quot;</span>,</span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a>    <span class="st">&quot;https://example.com/path?query=%26%3D%3F%23&quot;</span>, <span class="st">&quot;http://example.com:8080/?query=value#fragment#fragment2&quot;</span>,</span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a>    <span class="st">&quot;https://example.xn--80akhbyknj4f/path/to/resource&quot;</span>, <span class="st">&quot;https://example.co.uk/path/to/resource&quot;</span>,</span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a>    <span class="st">&quot;http://username:pass%23word@example.net&quot;</span>, <span class="st">&quot;ftp://downloads.example.edu:3030/files/archive.zip&quot;</span>,</span>
<span id="cb4-19"><a href="#cb4-19" tabindex="-1"></a>    <span class="st">&quot;https://example.com:8080/this/is/a/deeply/nested/path/to/a/resource&quot;</span>,</span>
<span id="cb4-20"><a href="#cb4-20" tabindex="-1"></a>    <span class="st">&quot;http://another-example.com/..//test/./demo.html&quot;</span>, <span class="st">&quot;https://sub2.sub1.example.org:5000/login?user=test#section2&quot;</span>,</span>
<span id="cb4-21"><a href="#cb4-21" tabindex="-1"></a>    <span class="st">&quot;ws://chat.example.biz:5050/livechat&quot;</span>, <span class="st">&quot;http://192.168.1.100/a/b/c/d&quot;</span>,</span>
<span id="cb4-22"><a href="#cb4-22" tabindex="-1"></a>    <span class="st">&quot;https://secure.example.shop/cart?item=123&amp;quantity=5&quot;</span>, <span class="st">&quot;http://example.travel/%60%21%40%23%24%25%5E%26*()&quot;</span>,</span>
<span id="cb4-23"><a href="#cb4-23" tabindex="-1"></a>    <span class="st">&quot;https://example.museum/path/to/artifact?search=ancient&quot;</span>, <span class="st">&quot;ftp://secure-files.example.co:4040/files/document.docx&quot;</span>,</span>
<span id="cb4-24"><a href="#cb4-24" tabindex="-1"></a>    <span class="st">&quot;https://test.example.aero/booking?flight=abc123&quot;</span>, <span class="st">&quot;http://example.asia/%E2%82%AC%E2%82%AC/path&quot;</span>,</span>
<span id="cb4-25"><a href="#cb4-25" tabindex="-1"></a>    <span class="st">&quot;http://subdomain.example.tel/contact?name=john&quot;</span>, <span class="st">&quot;ws://game-server.example.jobs:2020/match?id=xyz&quot;</span>,</span>
<span id="cb4-26"><a href="#cb4-26" tabindex="-1"></a>    <span class="st">&quot;http://example.mobi/path/with/mobile/content&quot;</span>, <span class="st">&quot;https://example.name/family/tree?name=smith&quot;</span>,</span>
<span id="cb4-27"><a href="#cb4-27" tabindex="-1"></a>    <span class="st">&quot;http://192.168.2.2/path?query1=value1&amp;query2=value2&quot;</span>, <span class="st">&quot;http://example.pro/professional/services&quot;</span>,</span>
<span id="cb4-28"><a href="#cb4-28" tabindex="-1"></a>    <span class="st">&quot;https://example.info/information/page&quot;</span>, <span class="st">&quot;http://example.int/internal/systems/login&quot;</span>,</span>
<span id="cb4-29"><a href="#cb4-29" tabindex="-1"></a>    <span class="st">&quot;https://example.post/postal/services&quot;</span>, <span class="st">&quot;http://example.xxx/age/verification&quot;</span>,</span>
<span id="cb4-30"><a href="#cb4-30" tabindex="-1"></a>    <span class="st">&quot;https://example.xxx/another/edge/case/path?with=query#and-fragment&quot;</span></span>
<span id="cb4-31"><a href="#cb4-31" tabindex="-1"></a>)</span>
<span id="cb4-32"><a href="#cb4-32" tabindex="-1"></a></span>
<span id="cb4-33"><a href="#cb4-33" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">ada_url_parse</span>(corner_cases)</span>
<span id="cb4-34"><a href="#cb4-34" tabindex="-1"></a>df[, <span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb4-35"><a href="#cb4-35" tabindex="-1"></a><span class="co">#&gt;    protocol username  password                                host</span></span>
<span id="cb4-36"><a href="#cb4-36" tabindex="-1"></a><span class="co">#&gt; 1    https:                                       example.com:8080</span></span>
<span id="cb4-37"><a href="#cb4-37" tabindex="-1"></a><span class="co">#&gt; 2     http:     user  password                         example.com</span></span>
<span id="cb4-38"><a href="#cb4-38" tabindex="-1"></a><span class="co">#&gt; 3     http:                    [2001:db8:85a3::8a2e:370:7334]:8080</span></span>
<span id="cb4-39"><a href="#cb4-39" tabindex="-1"></a><span class="co">#&gt; 4    https:                                            example.com</span></span>
<span id="cb4-40"><a href="#cb4-40" tabindex="-1"></a><span class="co">#&gt; 5     http:                                    sub.sub.example.com</span></span>
<span id="cb4-41"><a href="#cb4-41" tabindex="-1"></a><span class="co">#&gt; 6      ftp:                                 files.example.com:2121</span></span>
<span id="cb4-42"><a href="#cb4-42" tabindex="-1"></a><span class="co">#&gt; 7     http:                                            example.com</span></span>
<span id="cb4-43"><a href="#cb4-43" tabindex="-1"></a><span class="co">#&gt; 8    https:     user pa@ssword                         example.com</span></span>
<span id="cb4-44"><a href="#cb4-44" tabindex="-1"></a><span class="co">#&gt; 9     http:                                            example.com</span></span>
<span id="cb4-45"><a href="#cb4-45" tabindex="-1"></a><span class="co">#&gt; 10   https:                                       example.com:8080</span></span>
<span id="cb4-46"><a href="#cb4-46" tabindex="-1"></a><span class="co">#&gt; 11    http:                                            192.168.0.1</span></span>
<span id="cb4-47"><a href="#cb4-47" tabindex="-1"></a><span class="co">#&gt; 12    http:                                               3com.com</span></span>
<span id="cb4-48"><a href="#cb4-48" tabindex="-1"></a><span class="co">#&gt; 13    http:                                            example.com</span></span>
<span id="cb4-49"><a href="#cb4-49" tabindex="-1"></a><span class="co">#&gt; 14   https:                                            example.com</span></span>
<span id="cb4-50"><a href="#cb4-50" tabindex="-1"></a><span class="co">#&gt; 15   https:                                            example.com</span></span>
<span id="cb4-51"><a href="#cb4-51" tabindex="-1"></a><span class="co">#&gt; 16      ws:                             websocket.example.com:9000</span></span>
<span id="cb4-52"><a href="#cb4-52" tabindex="-1"></a><span class="co">#&gt; 17   https:                                      example.com:65535</span></span>
<span id="cb4-53"><a href="#cb4-53" tabindex="-1"></a><span class="co">#&gt; 18    file:                                                       </span></span>
<span id="cb4-54"><a href="#cb4-54" tabindex="-1"></a><span class="co">#&gt; 19    http:                                            example.com</span></span>
<span id="cb4-55"><a href="#cb4-55" tabindex="-1"></a><span class="co">#&gt; 20    http:                                            example.com</span></span>
<span id="cb4-56"><a href="#cb4-56" tabindex="-1"></a><span class="co">#&gt; 21   https:                                            example.com</span></span>
<span id="cb4-57"><a href="#cb4-57" tabindex="-1"></a><span class="co">#&gt; 22    http:                                       example.com:8080</span></span>
<span id="cb4-58"><a href="#cb4-58" tabindex="-1"></a><span class="co">#&gt; 23    http:                                            example.com</span></span>
<span id="cb4-59"><a href="#cb4-59" tabindex="-1"></a><span class="co">#&gt; 24    http:                                            example.com</span></span>
<span id="cb4-60"><a href="#cb4-60" tabindex="-1"></a><span class="co">#&gt; 25    http:                                            example.com</span></span>
<span id="cb4-61"><a href="#cb4-61" tabindex="-1"></a><span class="co">#&gt; 26   https:                                          example.com:0</span></span>
<span id="cb4-62"><a href="#cb4-62" tabindex="-1"></a><span class="co">#&gt; 27    http:                                            example.com</span></span>
<span id="cb4-63"><a href="#cb4-63" tabindex="-1"></a><span class="co">#&gt; 28   https:                                            example.com</span></span>
<span id="cb4-64"><a href="#cb4-64" tabindex="-1"></a><span class="co">#&gt; 29    http:                                       example.com:8080</span></span>
<span id="cb4-65"><a href="#cb4-65" tabindex="-1"></a><span class="co">#&gt; 30   https:                                      example.испытание</span></span>
<span id="cb4-66"><a href="#cb4-66" tabindex="-1"></a><span class="co">#&gt; 31   https:                                          example.co.uk</span></span>
<span id="cb4-67"><a href="#cb4-67" tabindex="-1"></a><span class="co">#&gt; 32    http: username pass#word                         example.net</span></span>
<span id="cb4-68"><a href="#cb4-68" tabindex="-1"></a><span class="co">#&gt; 33     ftp:                             downloads.example.edu:3030</span></span>
<span id="cb4-69"><a href="#cb4-69" tabindex="-1"></a><span class="co">#&gt; 34   https:                                       example.com:8080</span></span>
<span id="cb4-70"><a href="#cb4-70" tabindex="-1"></a><span class="co">#&gt; 35    http:                                    another-example.com</span></span>
<span id="cb4-71"><a href="#cb4-71" tabindex="-1"></a><span class="co">#&gt; 36   https:                             sub2.sub1.example.org:5000</span></span>
<span id="cb4-72"><a href="#cb4-72" tabindex="-1"></a><span class="co">#&gt; 37      ws:                                  chat.example.biz:5050</span></span>
<span id="cb4-73"><a href="#cb4-73" tabindex="-1"></a><span class="co">#&gt; 38    http:                                          192.168.1.100</span></span>
<span id="cb4-74"><a href="#cb4-74" tabindex="-1"></a><span class="co">#&gt; 39   https:                                    secure.example.shop</span></span>
<span id="cb4-75"><a href="#cb4-75" tabindex="-1"></a><span class="co">#&gt; 40    http:                                         example.travel</span></span>
<span id="cb4-76"><a href="#cb4-76" tabindex="-1"></a><span class="co">#&gt; 41   https:                                         example.museum</span></span>
<span id="cb4-77"><a href="#cb4-77" tabindex="-1"></a><span class="co">#&gt; 42     ftp:                           secure-files.example.co:4040</span></span>
<span id="cb4-78"><a href="#cb4-78" tabindex="-1"></a><span class="co">#&gt; 43   https:                                      test.example.aero</span></span>
<span id="cb4-79"><a href="#cb4-79" tabindex="-1"></a><span class="co">#&gt; 44    http:                                           example.asia</span></span>
<span id="cb4-80"><a href="#cb4-80" tabindex="-1"></a><span class="co">#&gt; 45    http:                                  subdomain.example.tel</span></span>
<span id="cb4-81"><a href="#cb4-81" tabindex="-1"></a><span class="co">#&gt; 46      ws:                          game-server.example.jobs:2020</span></span>
<span id="cb4-82"><a href="#cb4-82" tabindex="-1"></a><span class="co">#&gt; 47    http:                                           example.mobi</span></span>
<span id="cb4-83"><a href="#cb4-83" tabindex="-1"></a><span class="co">#&gt; 48   https:                                           example.name</span></span>
<span id="cb4-84"><a href="#cb4-84" tabindex="-1"></a><span class="co">#&gt; 49    http:                                            192.168.2.2</span></span>
<span id="cb4-85"><a href="#cb4-85" tabindex="-1"></a><span class="co">#&gt; 50    http:                                            example.pro</span></span>
<span id="cb4-86"><a href="#cb4-86" tabindex="-1"></a><span class="co">#&gt; 51   https:                                           example.info</span></span>
<span id="cb4-87"><a href="#cb4-87" tabindex="-1"></a><span class="co">#&gt; 52    http:                                            example.int</span></span>
<span id="cb4-88"><a href="#cb4-88" tabindex="-1"></a><span class="co">#&gt; 53   https:                                           example.post</span></span>
<span id="cb4-89"><a href="#cb4-89" tabindex="-1"></a><span class="co">#&gt; 54    http:                                            example.xxx</span></span>
<span id="cb4-90"><a href="#cb4-90" tabindex="-1"></a><span class="co">#&gt; 55   https:                                            example.xxx</span></span>
<span id="cb4-91"><a href="#cb4-91" tabindex="-1"></a><span class="co">#&gt;                          hostname  port</span></span>
<span id="cb4-92"><a href="#cb4-92" tabindex="-1"></a><span class="co">#&gt; 1                     example.com  8080</span></span>
<span id="cb4-93"><a href="#cb4-93" tabindex="-1"></a><span class="co">#&gt; 2                     example.com      </span></span>
<span id="cb4-94"><a href="#cb4-94" tabindex="-1"></a><span class="co">#&gt; 3  [2001:db8:85a3::8a2e:370:7334]  8080</span></span>
<span id="cb4-95"><a href="#cb4-95" tabindex="-1"></a><span class="co">#&gt; 4                     example.com      </span></span>
<span id="cb4-96"><a href="#cb4-96" tabindex="-1"></a><span class="co">#&gt; 5             sub.sub.example.com      </span></span>
<span id="cb4-97"><a href="#cb4-97" tabindex="-1"></a><span class="co">#&gt; 6               files.example.com  2121</span></span>
<span id="cb4-98"><a href="#cb4-98" tabindex="-1"></a><span class="co">#&gt; 7                     example.com      </span></span>
<span id="cb4-99"><a href="#cb4-99" tabindex="-1"></a><span class="co">#&gt; 8                     example.com      </span></span>
<span id="cb4-100"><a href="#cb4-100" tabindex="-1"></a><span class="co">#&gt; 9                     example.com      </span></span>
<span id="cb4-101"><a href="#cb4-101" tabindex="-1"></a><span class="co">#&gt; 10                    example.com  8080</span></span>
<span id="cb4-102"><a href="#cb4-102" tabindex="-1"></a><span class="co">#&gt; 11                    192.168.0.1      </span></span>
<span id="cb4-103"><a href="#cb4-103" tabindex="-1"></a><span class="co">#&gt; 12                       3com.com      </span></span>
<span id="cb4-104"><a href="#cb4-104" tabindex="-1"></a><span class="co">#&gt; 13                    example.com      </span></span>
<span id="cb4-105"><a href="#cb4-105" tabindex="-1"></a><span class="co">#&gt; 14                    example.com      </span></span>
<span id="cb4-106"><a href="#cb4-106" tabindex="-1"></a><span class="co">#&gt; 15                    example.com      </span></span>
<span id="cb4-107"><a href="#cb4-107" tabindex="-1"></a><span class="co">#&gt; 16          websocket.example.com  9000</span></span>
<span id="cb4-108"><a href="#cb4-108" tabindex="-1"></a><span class="co">#&gt; 17                    example.com 65535</span></span>
<span id="cb4-109"><a href="#cb4-109" tabindex="-1"></a><span class="co">#&gt; 18                                     </span></span>
<span id="cb4-110"><a href="#cb4-110" tabindex="-1"></a><span class="co">#&gt; 19                    example.com      </span></span>
<span id="cb4-111"><a href="#cb4-111" tabindex="-1"></a><span class="co">#&gt; 20                    example.com      </span></span>
<span id="cb4-112"><a href="#cb4-112" tabindex="-1"></a><span class="co">#&gt; 21                    example.com      </span></span>
<span id="cb4-113"><a href="#cb4-113" tabindex="-1"></a><span class="co">#&gt; 22                    example.com  8080</span></span>
<span id="cb4-114"><a href="#cb4-114" tabindex="-1"></a><span class="co">#&gt; 23                    example.com      </span></span>
<span id="cb4-115"><a href="#cb4-115" tabindex="-1"></a><span class="co">#&gt; 24                    example.com      </span></span>
<span id="cb4-116"><a href="#cb4-116" tabindex="-1"></a><span class="co">#&gt; 25                    example.com      </span></span>
<span id="cb4-117"><a href="#cb4-117" tabindex="-1"></a><span class="co">#&gt; 26                    example.com     0</span></span>
<span id="cb4-118"><a href="#cb4-118" tabindex="-1"></a><span class="co">#&gt; 27                    example.com      </span></span>
<span id="cb4-119"><a href="#cb4-119" tabindex="-1"></a><span class="co">#&gt; 28                    example.com      </span></span>
<span id="cb4-120"><a href="#cb4-120" tabindex="-1"></a><span class="co">#&gt; 29                    example.com  8080</span></span>
<span id="cb4-121"><a href="#cb4-121" tabindex="-1"></a><span class="co">#&gt; 30              example.испытание      </span></span>
<span id="cb4-122"><a href="#cb4-122" tabindex="-1"></a><span class="co">#&gt; 31                  example.co.uk      </span></span>
<span id="cb4-123"><a href="#cb4-123" tabindex="-1"></a><span class="co">#&gt; 32                    example.net      </span></span>
<span id="cb4-124"><a href="#cb4-124" tabindex="-1"></a><span class="co">#&gt; 33          downloads.example.edu  3030</span></span>
<span id="cb4-125"><a href="#cb4-125" tabindex="-1"></a><span class="co">#&gt; 34                    example.com  8080</span></span>
<span id="cb4-126"><a href="#cb4-126" tabindex="-1"></a><span class="co">#&gt; 35            another-example.com      </span></span>
<span id="cb4-127"><a href="#cb4-127" tabindex="-1"></a><span class="co">#&gt; 36          sub2.sub1.example.org  5000</span></span>
<span id="cb4-128"><a href="#cb4-128" tabindex="-1"></a><span class="co">#&gt; 37               chat.example.biz  5050</span></span>
<span id="cb4-129"><a href="#cb4-129" tabindex="-1"></a><span class="co">#&gt; 38                  192.168.1.100      </span></span>
<span id="cb4-130"><a href="#cb4-130" tabindex="-1"></a><span class="co">#&gt; 39            secure.example.shop      </span></span>
<span id="cb4-131"><a href="#cb4-131" tabindex="-1"></a><span class="co">#&gt; 40                 example.travel      </span></span>
<span id="cb4-132"><a href="#cb4-132" tabindex="-1"></a><span class="co">#&gt; 41                 example.museum      </span></span>
<span id="cb4-133"><a href="#cb4-133" tabindex="-1"></a><span class="co">#&gt; 42        secure-files.example.co  4040</span></span>
<span id="cb4-134"><a href="#cb4-134" tabindex="-1"></a><span class="co">#&gt; 43              test.example.aero      </span></span>
<span id="cb4-135"><a href="#cb4-135" tabindex="-1"></a><span class="co">#&gt; 44                   example.asia      </span></span>
<span id="cb4-136"><a href="#cb4-136" tabindex="-1"></a><span class="co">#&gt; 45          subdomain.example.tel      </span></span>
<span id="cb4-137"><a href="#cb4-137" tabindex="-1"></a><span class="co">#&gt; 46       game-server.example.jobs  2020</span></span>
<span id="cb4-138"><a href="#cb4-138" tabindex="-1"></a><span class="co">#&gt; 47                   example.mobi      </span></span>
<span id="cb4-139"><a href="#cb4-139" tabindex="-1"></a><span class="co">#&gt; 48                   example.name      </span></span>
<span id="cb4-140"><a href="#cb4-140" tabindex="-1"></a><span class="co">#&gt; 49                    192.168.2.2      </span></span>
<span id="cb4-141"><a href="#cb4-141" tabindex="-1"></a><span class="co">#&gt; 50                    example.pro      </span></span>
<span id="cb4-142"><a href="#cb4-142" tabindex="-1"></a><span class="co">#&gt; 51                   example.info      </span></span>
<span id="cb4-143"><a href="#cb4-143" tabindex="-1"></a><span class="co">#&gt; 52                    example.int      </span></span>
<span id="cb4-144"><a href="#cb4-144" tabindex="-1"></a><span class="co">#&gt; 53                   example.post      </span></span>
<span id="cb4-145"><a href="#cb4-145" tabindex="-1"></a><span class="co">#&gt; 54                    example.xxx      </span></span>
<span id="cb4-146"><a href="#cb4-146" tabindex="-1"></a><span class="co">#&gt; 55                    example.xxx      </span></span>
<span id="cb4-147"><a href="#cb4-147" tabindex="-1"></a><span class="co">#&gt;                                       pathname                       search</span></span>
<span id="cb4-148"><a href="#cb4-148" tabindex="-1"></a><span class="co">#&gt; 1                                            /                             </span></span>
<span id="cb4-149"><a href="#cb4-149" tabindex="-1"></a><span class="co">#&gt; 2                                            /                             </span></span>
<span id="cb4-150"><a href="#cb4-150" tabindex="-1"></a><span class="co">#&gt; 3                                            /                             </span></span>
<span id="cb4-151"><a href="#cb4-151" tabindex="-1"></a><span class="co">#&gt; 4                            /path/to/resource   ?query=value&amp;another=thing</span></span>
<span id="cb4-152"><a href="#cb4-152" tabindex="-1"></a><span class="co">#&gt; 5                                            /                             </span></span>
<span id="cb4-153"><a href="#cb4-153" tabindex="-1"></a><span class="co">#&gt; 6                           /download/file.txt                             </span></span>
<span id="cb4-154"><a href="#cb4-154" tabindex="-1"></a><span class="co">#&gt; 7     /path with spaces/and&amp;special=characters                             </span></span>
<span id="cb4-155"><a href="#cb4-155" tabindex="-1"></a><span class="co">#&gt; 8                                        /path                             </span></span>
<span id="cb4-156"><a href="#cb4-156" tabindex="-1"></a><span class="co">#&gt; 9                                 //a/c/d.html                             </span></span>
<span id="cb4-157"><a href="#cb4-157" tabindex="-1"></a><span class="co">#&gt; 10                                 /over/under                 ?query=param</span></span>
<span id="cb4-158"><a href="#cb4-158" tabindex="-1"></a><span class="co">#&gt; 11                           /path/to/resource                             </span></span>
<span id="cb4-159"><a href="#cb4-159" tabindex="-1"></a><span class="co">#&gt; 12                           /path/to/resource                             </span></span>
<span id="cb4-160"><a href="#cb4-160" tabindex="-1"></a><span class="co">#&gt; 13                                 /~username/                             </span></span>
<span id="cb4-161"><a href="#cb4-161" tabindex="-1"></a><span class="co">#&gt; 14                                          /a    ?query=value&amp;query=value2</span></span>
<span id="cb4-162"><a href="#cb4-162" tabindex="-1"></a><span class="co">#&gt; 15                                       /a/b/                             </span></span>
<span id="cb4-163"><a href="#cb4-163" tabindex="-1"></a><span class="co">#&gt; 16                                       /chat                             </span></span>
<span id="cb4-164"><a href="#cb4-164" tabindex="-1"></a><span class="co">#&gt; 17                             /edge-case-port                             </span></span>
<span id="cb4-165"><a href="#cb4-165" tabindex="-1"></a><span class="co">#&gt; 18                         /home/user/file.txt                             </span></span>
<span id="cb4-166"><a href="#cb4-166" tabindex="-1"></a><span class="co">#&gt; 19                                   /a/b/c///                             </span></span>
<span id="cb4-167"><a href="#cb4-167" tabindex="-1"></a><span class="co">#&gt; 20                                         /a/                             </span></span>
<span id="cb4-168"><a href="#cb4-168" tabindex="-1"></a><span class="co">#&gt; 21                                         /a/                             </span></span>
<span id="cb4-169"><a href="#cb4-169" tabindex="-1"></a><span class="co">#&gt; 22                                        /a;b                         ?c=d</span></span>
<span id="cb4-170"><a href="#cb4-170" tabindex="-1"></a><span class="co">#&gt; 23                                           /                             </span></span>
<span id="cb4-171"><a href="#cb4-171" tabindex="-1"></a><span class="co">#&gt; 24                                      /@test                             </span></span>
<span id="cb4-172"><a href="#cb4-172" tabindex="-1"></a><span class="co">#&gt; 25                                    /@@@/a/b                             </span></span>
<span id="cb4-173"><a href="#cb4-173" tabindex="-1"></a><span class="co">#&gt; 26                                           /                             </span></span>
<span id="cb4-174"><a href="#cb4-174" tabindex="-1"></a><span class="co">#&gt; 27                   /%path with encoded chars                             </span></span>
<span id="cb4-175"><a href="#cb4-175" tabindex="-1"></a><span class="co">#&gt; 28                                       /path                  ?query=&amp;=?#</span></span>
<span id="cb4-176"><a href="#cb4-176" tabindex="-1"></a><span class="co">#&gt; 29                                           /                 ?query=value</span></span>
<span id="cb4-177"><a href="#cb4-177" tabindex="-1"></a><span class="co">#&gt; 30                           /path/to/resource                             </span></span>
<span id="cb4-178"><a href="#cb4-178" tabindex="-1"></a><span class="co">#&gt; 31                           /path/to/resource                             </span></span>
<span id="cb4-179"><a href="#cb4-179" tabindex="-1"></a><span class="co">#&gt; 32                                           /                             </span></span>
<span id="cb4-180"><a href="#cb4-180" tabindex="-1"></a><span class="co">#&gt; 33                          /files/archive.zip                             </span></span>
<span id="cb4-181"><a href="#cb4-181" tabindex="-1"></a><span class="co">#&gt; 34 /this/is/a/deeply/nested/path/to/a/resource                             </span></span>
<span id="cb4-182"><a href="#cb4-182" tabindex="-1"></a><span class="co">#&gt; 35                            //test/demo.html                             </span></span>
<span id="cb4-183"><a href="#cb4-183" tabindex="-1"></a><span class="co">#&gt; 36                                      /login                   ?user=test</span></span>
<span id="cb4-184"><a href="#cb4-184" tabindex="-1"></a><span class="co">#&gt; 37                                   /livechat                             </span></span>
<span id="cb4-185"><a href="#cb4-185" tabindex="-1"></a><span class="co">#&gt; 38                                    /a/b/c/d                             </span></span>
<span id="cb4-186"><a href="#cb4-186" tabindex="-1"></a><span class="co">#&gt; 39                                       /cart         ?item=123&amp;quantity=5</span></span>
<span id="cb4-187"><a href="#cb4-187" tabindex="-1"></a><span class="co">#&gt; 40                                /`!@#$%^&amp;*()                             </span></span>
<span id="cb4-188"><a href="#cb4-188" tabindex="-1"></a><span class="co">#&gt; 41                           /path/to/artifact              ?search=ancient</span></span>
<span id="cb4-189"><a href="#cb4-189" tabindex="-1"></a><span class="co">#&gt; 42                        /files/document.docx                             </span></span>
<span id="cb4-190"><a href="#cb4-190" tabindex="-1"></a><span class="co">#&gt; 43                                    /booking               ?flight=abc123</span></span>
<span id="cb4-191"><a href="#cb4-191" tabindex="-1"></a><span class="co">#&gt; 44                                    /€€/path                             </span></span>
<span id="cb4-192"><a href="#cb4-192" tabindex="-1"></a><span class="co">#&gt; 45                                    /contact                   ?name=john</span></span>
<span id="cb4-193"><a href="#cb4-193" tabindex="-1"></a><span class="co">#&gt; 46                                      /match                      ?id=xyz</span></span>
<span id="cb4-194"><a href="#cb4-194" tabindex="-1"></a><span class="co">#&gt; 47                   /path/with/mobile/content                             </span></span>
<span id="cb4-195"><a href="#cb4-195" tabindex="-1"></a><span class="co">#&gt; 48                                /family/tree                  ?name=smith</span></span>
<span id="cb4-196"><a href="#cb4-196" tabindex="-1"></a><span class="co">#&gt; 49                                       /path ?query1=value1&amp;query2=value2</span></span>
<span id="cb4-197"><a href="#cb4-197" tabindex="-1"></a><span class="co">#&gt; 50                      /professional/services                             </span></span>
<span id="cb4-198"><a href="#cb4-198" tabindex="-1"></a><span class="co">#&gt; 51                           /information/page                             </span></span>
<span id="cb4-199"><a href="#cb4-199" tabindex="-1"></a><span class="co">#&gt; 52                     /internal/systems/login                             </span></span>
<span id="cb4-200"><a href="#cb4-200" tabindex="-1"></a><span class="co">#&gt; 53                            /postal/services                             </span></span>
<span id="cb4-201"><a href="#cb4-201" tabindex="-1"></a><span class="co">#&gt; 54                           /age/verification                             </span></span>
<span id="cb4-202"><a href="#cb4-202" tabindex="-1"></a><span class="co">#&gt; 55                     /another/edge/case/path                  ?with=query</span></span>
<span id="cb4-203"><a href="#cb4-203" tabindex="-1"></a><span class="co">#&gt;                   hash</span></span>
<span id="cb4-204"><a href="#cb4-204" tabindex="-1"></a><span class="co">#&gt; 1                     </span></span>
<span id="cb4-205"><a href="#cb4-205" tabindex="-1"></a><span class="co">#&gt; 2                     </span></span>
<span id="cb4-206"><a href="#cb4-206" tabindex="-1"></a><span class="co">#&gt; 3                     </span></span>
<span id="cb4-207"><a href="#cb4-207" tabindex="-1"></a><span class="co">#&gt; 4            #fragment</span></span>
<span id="cb4-208"><a href="#cb4-208" tabindex="-1"></a><span class="co">#&gt; 5                     </span></span>
<span id="cb4-209"><a href="#cb4-209" tabindex="-1"></a><span class="co">#&gt; 6                     </span></span>
<span id="cb4-210"><a href="#cb4-210" tabindex="-1"></a><span class="co">#&gt; 7                     </span></span>
<span id="cb4-211"><a href="#cb4-211" tabindex="-1"></a><span class="co">#&gt; 8                     </span></span>
<span id="cb4-212"><a href="#cb4-212" tabindex="-1"></a><span class="co">#&gt; 9                     </span></span>
<span id="cb4-213"><a href="#cb4-213" tabindex="-1"></a><span class="co">#&gt; 10     #and-a-fragment</span></span>
<span id="cb4-214"><a href="#cb4-214" tabindex="-1"></a><span class="co">#&gt; 11                    </span></span>
<span id="cb4-215"><a href="#cb4-215" tabindex="-1"></a><span class="co">#&gt; 12                    </span></span>
<span id="cb4-216"><a href="#cb4-216" tabindex="-1"></a><span class="co">#&gt; 13                    </span></span>
<span id="cb4-217"><a href="#cb4-217" tabindex="-1"></a><span class="co">#&gt; 14                    </span></span>
<span id="cb4-218"><a href="#cb4-218" tabindex="-1"></a><span class="co">#&gt; 15                    </span></span>
<span id="cb4-219"><a href="#cb4-219" tabindex="-1"></a><span class="co">#&gt; 16                    </span></span>
<span id="cb4-220"><a href="#cb4-220" tabindex="-1"></a><span class="co">#&gt; 17                    </span></span>
<span id="cb4-221"><a href="#cb4-221" tabindex="-1"></a><span class="co">#&gt; 18                    </span></span>
<span id="cb4-222"><a href="#cb4-222" tabindex="-1"></a><span class="co">#&gt; 19                    </span></span>
<span id="cb4-223"><a href="#cb4-223" tabindex="-1"></a><span class="co">#&gt; 20                    </span></span>
<span id="cb4-224"><a href="#cb4-224" tabindex="-1"></a><span class="co">#&gt; 21                    </span></span>
<span id="cb4-225"><a href="#cb4-225" tabindex="-1"></a><span class="co">#&gt; 22                  #e</span></span>
<span id="cb4-226"><a href="#cb4-226" tabindex="-1"></a><span class="co">#&gt; 23                    </span></span>
<span id="cb4-227"><a href="#cb4-227" tabindex="-1"></a><span class="co">#&gt; 24                    </span></span>
<span id="cb4-228"><a href="#cb4-228" tabindex="-1"></a><span class="co">#&gt; 25                    </span></span>
<span id="cb4-229"><a href="#cb4-229" tabindex="-1"></a><span class="co">#&gt; 26                    </span></span>
<span id="cb4-230"><a href="#cb4-230" tabindex="-1"></a><span class="co">#&gt; 27                    </span></span>
<span id="cb4-231"><a href="#cb4-231" tabindex="-1"></a><span class="co">#&gt; 28                    </span></span>
<span id="cb4-232"><a href="#cb4-232" tabindex="-1"></a><span class="co">#&gt; 29 #fragment#fragment2</span></span>
<span id="cb4-233"><a href="#cb4-233" tabindex="-1"></a><span class="co">#&gt; 30                    </span></span>
<span id="cb4-234"><a href="#cb4-234" tabindex="-1"></a><span class="co">#&gt; 31                    </span></span>
<span id="cb4-235"><a href="#cb4-235" tabindex="-1"></a><span class="co">#&gt; 32                    </span></span>
<span id="cb4-236"><a href="#cb4-236" tabindex="-1"></a><span class="co">#&gt; 33                    </span></span>
<span id="cb4-237"><a href="#cb4-237" tabindex="-1"></a><span class="co">#&gt; 34                    </span></span>
<span id="cb4-238"><a href="#cb4-238" tabindex="-1"></a><span class="co">#&gt; 35                    </span></span>
<span id="cb4-239"><a href="#cb4-239" tabindex="-1"></a><span class="co">#&gt; 36           #section2</span></span>
<span id="cb4-240"><a href="#cb4-240" tabindex="-1"></a><span class="co">#&gt; 37                    </span></span>
<span id="cb4-241"><a href="#cb4-241" tabindex="-1"></a><span class="co">#&gt; 38                    </span></span>
<span id="cb4-242"><a href="#cb4-242" tabindex="-1"></a><span class="co">#&gt; 39                    </span></span>
<span id="cb4-243"><a href="#cb4-243" tabindex="-1"></a><span class="co">#&gt; 40                    </span></span>
<span id="cb4-244"><a href="#cb4-244" tabindex="-1"></a><span class="co">#&gt; 41                    </span></span>
<span id="cb4-245"><a href="#cb4-245" tabindex="-1"></a><span class="co">#&gt; 42                    </span></span>
<span id="cb4-246"><a href="#cb4-246" tabindex="-1"></a><span class="co">#&gt; 43                    </span></span>
<span id="cb4-247"><a href="#cb4-247" tabindex="-1"></a><span class="co">#&gt; 44                    </span></span>
<span id="cb4-248"><a href="#cb4-248" tabindex="-1"></a><span class="co">#&gt; 45                    </span></span>
<span id="cb4-249"><a href="#cb4-249" tabindex="-1"></a><span class="co">#&gt; 46                    </span></span>
<span id="cb4-250"><a href="#cb4-250" tabindex="-1"></a><span class="co">#&gt; 47                    </span></span>
<span id="cb4-251"><a href="#cb4-251" tabindex="-1"></a><span class="co">#&gt; 48                    </span></span>
<span id="cb4-252"><a href="#cb4-252" tabindex="-1"></a><span class="co">#&gt; 49                    </span></span>
<span id="cb4-253"><a href="#cb4-253" tabindex="-1"></a><span class="co">#&gt; 50                    </span></span>
<span id="cb4-254"><a href="#cb4-254" tabindex="-1"></a><span class="co">#&gt; 51                    </span></span>
<span id="cb4-255"><a href="#cb4-255" tabindex="-1"></a><span class="co">#&gt; 52                    </span></span>
<span id="cb4-256"><a href="#cb4-256" tabindex="-1"></a><span class="co">#&gt; 53                    </span></span>
<span id="cb4-257"><a href="#cb4-257" tabindex="-1"></a><span class="co">#&gt; 54                    </span></span>
<span id="cb4-258"><a href="#cb4-258" tabindex="-1"></a><span class="co">#&gt; 55       #and-fragment</span></span></code></pre></div>
<p><code>ada_url_parse()</code> is the power horse of <code>adaR</code>
which always returns all components of a URL. Specific components can be
parsed with the <code>ada_get_*()</code> set of functions.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">ada_get_hostname</span>(corner_cases)</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="co">#&gt;  [1] &quot;example.com&quot;                    &quot;example.com&quot;                   </span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="co">#&gt;  [3] &quot;[2001:db8:85a3::8a2e:370:7334]&quot; &quot;example.com&quot;                   </span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="co">#&gt;  [5] &quot;sub.sub.example.com&quot;            &quot;files.example.com&quot;             </span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="co">#&gt;  [7] &quot;example.com&quot;                    &quot;example.com&quot;                   </span></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="co">#&gt;  [9] &quot;example.com&quot;                    &quot;example.com&quot;                   </span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="co">#&gt; [11] &quot;192.168.0.1&quot;                    &quot;3com.com&quot;                      </span></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a><span class="co">#&gt; [13] &quot;example.com&quot;                    &quot;example.com&quot;                   </span></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a><span class="co">#&gt; [15] &quot;example.com&quot;                    &quot;websocket.example.com&quot;         </span></span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a><span class="co">#&gt; [17] &quot;example.com&quot;                    &quot;&quot;                              </span></span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a><span class="co">#&gt; [19] &quot;example.com&quot;                    &quot;example.com&quot;                   </span></span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a><span class="co">#&gt; [21] &quot;example.com&quot;                    &quot;example.com&quot;                   </span></span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a><span class="co">#&gt; [23] &quot;example.com&quot;                    &quot;example.com&quot;                   </span></span>
<span id="cb5-14"><a href="#cb5-14" tabindex="-1"></a><span class="co">#&gt; [25] &quot;example.com&quot;                    &quot;example.com&quot;                   </span></span>
<span id="cb5-15"><a href="#cb5-15" tabindex="-1"></a><span class="co">#&gt; [27] &quot;example.com&quot;                    &quot;example.com&quot;                   </span></span>
<span id="cb5-16"><a href="#cb5-16" tabindex="-1"></a><span class="co">#&gt; [29] &quot;example.com&quot;                    &quot;example.испытание&quot;             </span></span>
<span id="cb5-17"><a href="#cb5-17" tabindex="-1"></a><span class="co">#&gt; [31] &quot;example.co.uk&quot;                  &quot;example.net&quot;                   </span></span>
<span id="cb5-18"><a href="#cb5-18" tabindex="-1"></a><span class="co">#&gt; [33] &quot;downloads.example.edu&quot;          &quot;example.com&quot;                   </span></span>
<span id="cb5-19"><a href="#cb5-19" tabindex="-1"></a><span class="co">#&gt; [35] &quot;another-example.com&quot;            &quot;sub2.sub1.example.org&quot;         </span></span>
<span id="cb5-20"><a href="#cb5-20" tabindex="-1"></a><span class="co">#&gt; [37] &quot;chat.example.biz&quot;               &quot;192.168.1.100&quot;                 </span></span>
<span id="cb5-21"><a href="#cb5-21" tabindex="-1"></a><span class="co">#&gt; [39] &quot;secure.example.shop&quot;            &quot;example.travel&quot;                </span></span>
<span id="cb5-22"><a href="#cb5-22" tabindex="-1"></a><span class="co">#&gt; [41] &quot;example.museum&quot;                 &quot;secure-files.example.co&quot;       </span></span>
<span id="cb5-23"><a href="#cb5-23" tabindex="-1"></a><span class="co">#&gt; [43] &quot;test.example.aero&quot;              &quot;example.asia&quot;                  </span></span>
<span id="cb5-24"><a href="#cb5-24" tabindex="-1"></a><span class="co">#&gt; [45] &quot;subdomain.example.tel&quot;          &quot;game-server.example.jobs&quot;      </span></span>
<span id="cb5-25"><a href="#cb5-25" tabindex="-1"></a><span class="co">#&gt; [47] &quot;example.mobi&quot;                   &quot;example.name&quot;                  </span></span>
<span id="cb5-26"><a href="#cb5-26" tabindex="-1"></a><span class="co">#&gt; [49] &quot;192.168.2.2&quot;                    &quot;example.pro&quot;                   </span></span>
<span id="cb5-27"><a href="#cb5-27" tabindex="-1"></a><span class="co">#&gt; [51] &quot;example.info&quot;                   &quot;example.int&quot;                   </span></span>
<span id="cb5-28"><a href="#cb5-28" tabindex="-1"></a><span class="co">#&gt; [53] &quot;example.post&quot;                   &quot;example.xxx&quot;                   </span></span>
<span id="cb5-29"><a href="#cb5-29" tabindex="-1"></a><span class="co">#&gt; [55] &quot;example.xxx&quot;</span></span></code></pre></div>
<p><code>ada_has_*()</code> can be used to check if certain components
are present or not.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="fu">ada_has_search</span>(corner_cases)</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="co">#&gt;  [1] FALSE FALSE FALSE  TRUE FALSE FALSE  TRUE FALSE FALSE  TRUE FALSE FALSE</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a><span class="co">#&gt; [13] FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE</span></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a><span class="co">#&gt; [25] FALSE FALSE FALSE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE</span></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a><span class="co">#&gt; [37] FALSE FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE  TRUE FALSE  TRUE</span></span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a><span class="co">#&gt; [49]  TRUE FALSE FALSE FALSE FALSE FALSE  TRUE</span></span></code></pre></div>
<p><code>ada_set_*()</code> can be used to set specific components of a
URL.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="fu">ada_set_hostname</span>(<span class="st">&quot;https://example.de/test&quot;</span>, <span class="st">&quot;example.com&quot;</span>)</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="co">#&gt; [1] &quot;https://example.com/test&quot;</span></span></code></pre></div>
<p><code>ada_clear_*()</code> can be used to remove certain
components.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="st">&quot;https://user_1:password_1@example.org:8080/dir/../api?q=1#frag&quot;</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="fu">ada_clear_port</span>(url)</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="co">#&gt; [1] &quot;https://user_1:password_1@example.org/api?q=1#frag&quot;</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="fu">ada_clear_hash</span>(url)</span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="co">#&gt; [1] &quot;https://user_1:password_1@example.org:8080/api?q=1&quot;</span></span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a><span class="fu">ada_clear_search</span>(url)</span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a><span class="co">#&gt; [1] &quot;https://user_1:password_1@example.org:8080/api#frag&quot;</span></span></code></pre></div>
</div>
<div id="public-suffic-extraction" class="section level2">
<h2>Public suffic extraction</h2>
<p>The package also implements a public suffix extractor
public_suffix(), based on a lookup of the <a href="https://publicsuffix.org/">Public Suffix List</a>. Note that from
this list, we only include registry suffixes (e.g., com, co.uk), which
are those controlled by a domain name registry and governed by ICANN. We
do not include “private” suffixes (e.g., blogspot.com) that allow people
to register subdomains. Hence, we use the term domain in the sense of
“top domain under a registry suffix”. See <a href="https://github.com/google/guava/wiki/InternetDomainNameExplained" class="uri">https://github.com/google/guava/wiki/InternetDomainNameExplained</a>
for more details.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>urls <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>    <span class="st">&quot;https://subsub.sub.domain.co.uk&quot;</span>,</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>    <span class="st">&quot;https://domain.api.gov.uk&quot;</span>,</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>    <span class="st">&quot;https://thisisnotpart.butthisispartoftheps.kawasaki.jp&quot;</span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>)</span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a><span class="fu">public_suffix</span>(urls)</span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a><span class="co">#&gt; [1] &quot;co.uk&quot;                            &quot;gov.uk&quot;                          </span></span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a><span class="co">#&gt; [3] &quot;butthisispartoftheps.kawasaki.jp&quot;</span></span></code></pre></div>
<p>If you are wondering about the last url. The list also contains
wildcard suffixes such as <code>*.kawasaki.jp</code> which need to be
matched.</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
